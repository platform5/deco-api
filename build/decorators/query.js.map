{"version":3,"file":"query.js","sourceRoot":"","sources":["../../src/decorators/query.ts"],"names":[],"mappings":";;AAAA,SAAgB,aAAa,CAAC,MAAW,EAAE,QAAgB,EAAE,GAA6B,EAAE,OAAO,GAAG,EAAE;IACtG,IAAI,CAAC,MAAM,CAAC,IAAI,QAAQ,EAAE,CAAC;QAAE,MAAM,CAAC,IAAI,QAAQ,EAAE,CAAC,GAAG,EAAE,CAAC;IACzD,IAAI,CAAC,MAAM,CAAC,IAAI,QAAQ,SAAS,CAAC;QAAE,MAAM,CAAC,IAAI,QAAQ,SAAS,CAAC,GAAG,EAAE,CAAC;IACvE,MAAM,CAAC,IAAI,QAAQ,EAAE,CAAC,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IACjC,MAAM,CAAC,IAAI,QAAQ,SAAS,CAAC,CAAC,GAAG,CAAC,GAAG,OAAO,CAAA;AAC9C,CAAC;AALD,sCAKC;AAEY,QAAA,UAAU,GAAG,CAAC,MAAW,EAAE,GAAW,EAAE,UAA+B,EAAc,EAAE;IAClG,IAAI,UAAU;QAAE,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC;IAC3C,IAAI,CAAC,MAAM,CAAC,YAAY;QAAE,MAAM,CAAC,YAAY,GAAG,EAAE,CAAC;IACnD,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC9B,IAAI,UAAU;QAAE,OAAO,UAAU,CAAC;AACpC,CAAC,CAAA;AAEY,QAAA,UAAU,GAAG,CAAC,UAAe,EAAC,IAAI,EAAE,MAAM,EAAC,EAAE,EAAE;IAC1D,OAAO,CAAC,MAAW,EAAE,GAAW,EAAE,UAA+B,EAAc,EAAE;QAC/E,IAAI,UAAU;YAAE,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC;QAC3C,IAAI,CAAC,MAAM,CAAC,YAAY;YAAE,MAAM,CAAC,YAAY,GAAG,EAAE,CAAC;QACnD,IAAI,CAAC,MAAM,CAAC,mBAAmB;YAAE,MAAM,CAAC,mBAAmB,GAAG,EAAE,CAAC;QACjE,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;QAC9B,MAAM,CAAC,mBAAmB,CAAC,GAAG,CAAC,GAAG,OAAO,CAAC;QAC1C,IAAI,UAAU;YAAE,OAAO,UAAU,CAAC;IACpC,CAAC,CAAC;AACJ,CAAC,CAAA;AAEY,QAAA,QAAQ,GAAG,CAAC,MAAW,EAAE,GAAW,EAAE,UAA+B,EAAc,EAAE;IAChG,IAAI,UAAU;QAAE,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC;IAC3C,IAAI,CAAC,MAAM,CAAC,UAAU;QAAE,MAAM,CAAC,UAAU,GAAG,EAAE,CAAC;IAC/C,MAAM,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC5B,IAAI,UAAU;QAAE,OAAO,UAAU,CAAC;AACpC,CAAC,CAAA;AAEY,QAAA,GAAG,GAAG,CAAC,MAAW,EAAE,GAAW,EAAE,UAA+B,EAAc,EAAE;IAC3F,IAAI,UAAU;QAAE,UAAU,CAAC,QAAQ,GAAG,IAAI,CAAC;IAC3C,kBAAU,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;IACpC,gBAAQ,CAAC,MAAM,EAAE,GAAG,EAAE,UAAU,CAAC,CAAC;IAClC,IAAI,CAAC,MAAM,CAAC,YAAY;QAAE,MAAM,CAAC,YAAY,GAAG,EAAE,CAAC;IACnD,IAAI,CAAC,MAAM,CAAC,mBAAmB;QAAE,MAAM,CAAC,mBAAmB,GAAG,EAAE,CAAC;IACjE,MAAM,CAAC,YAAY,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;IAC9B,MAAM,CAAC,mBAAmB,CAAC,GAAG,CAAC,GAAG,EAAC,IAAI,EAAE,MAAM,EAAC,CAAC;IACjD,IAAI,UAAU;QAAE,OAAO,UAAU,CAAC;AACpC,CAAC,CAAA","sourcesContent":["export function addTargetInfo(target: any, typeName: string, key: string | number | symbol, options = {}) {\n  if (!target[`_${typeName}`]) target[`_${typeName}`] = [];\n  if (!target[`_${typeName}Options`]) target[`_${typeName}Options`] = {};\n  target[`_${typeName}`].push(key);\n  target[`_${typeName}Options`][key] = options\n}\n\nexport const searchable = (target: any, key: string, descriptor?: PropertyDescriptor): void | any => {\n  if (descriptor) descriptor.writable = true;\n  if (!target._searchables) target._searchables = [];\n  target._searchables.push(key);\n  if (descriptor) return descriptor;\n}\n\nexport const filterable = (options: any = {type: 'auto'}) => {\n  return (target: any, key: string, descriptor?: PropertyDescriptor): void | any => {\n    if (descriptor) descriptor.writable = true;\n    if (!target._filterables) target._filterables = [];\n    if (!target._filterablesOptions) target._filterablesOptions = {};\n    target._filterables.push(key);\n    target._filterablesOptions[key] = options;\n    if (descriptor) return descriptor;\n  };\n}\n\nexport const sortable = (target: any, key: string, descriptor?: PropertyDescriptor): void | any => {\n  if (descriptor) descriptor.writable = true;\n  if (!target._sortables) target._sortables = [];\n  target._sortables.push(key);\n  if (descriptor) return descriptor;\n}\n\nexport const all = (target: any, key: string, descriptor?: PropertyDescriptor): void | any => {\n  if (descriptor) descriptor.writable = true;\n  searchable(target, key, descriptor);\n  sortable(target, key, descriptor);\n  if (!target._filterables) target._filterables = [];\n  if (!target._filterablesOptions) target._filterablesOptions = {};\n  target._filterables.push(key);\n  target._filterablesOptions[key] = {type: 'auto'};\n  if (descriptor) return descriptor;\n}"]}